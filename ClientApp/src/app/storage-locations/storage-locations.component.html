<div class="container" >
    <h1>Almacenes</h1>
    <hr>
    <div class="container">
      <button mat-button class="bg-success"  (click)="create()">
          <mat-icon>add_box</mat-icon> 
          Crear Almacén                    
      </button>
      <br><br>
        <table class="table table-bordered table-striped"
            >
            <thead>
            <tr>          
              <th scope="col">Descripción</th>
              <th scope="col">Ubicación</th>
              <th scope="col">Máxima cantidad</th>                           
              <th scope="col">Editar</th>
              <th scope="col">Eliminar</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let item of storagelocations; ">
              
              <td>{{ item.description }}</td>
              <td>{{ item.location  }}</td>
              <td>{{ item.maxQtty | number }}</td>             
              <td>
                  <button mat-button class="bg-warning" (click)="openModal(templateEdit, item, 'edit')">
                      <mat-icon>edit</mat-icon>                     
                  </button>
              </td>
              <td>
                <button mat-button class="bg-danger" (click)="openModal(template, item , 'delete')">
                  <mat-icon>delete</mat-icon>                     
                 </button>  
              </td>
            </tr>
            </tbody>
          </table>

          <ng-template #template>
            <div class="modal-body text-center ">
              <p>Almacén se eliminará</p>
              <button style="margin: 5px;" type="button" class="btn btn-warning" (click)="confirm()" >Continuar</button>
              <button style="margin: 5px;" type="button" class="btn btn-default" (click)="decline()" >Cancelar</button>
            </div>
          </ng-template>

          <ng-template #templateEdit>
            <div class="container" style="margin-top: 3%;"> 
              <div class="card mx-auto" style="max-width: 50rem;">  
                <div class="card-header">
                  <h1 style="text-align: center;">Editar almacén</h1>
                </div>  
                <div class="card-body ">
                  <form #editForm="ngForm" (ngSubmit)="edit(editForm)" >
                    <div class="form-group">
                      <label for="description">Descripción</label>
                      <input
                        type="text"
                        id="description"
                        class="form-control"
                        [ngModel]= "itemToDelete.description"
                        name="description"
                        required              
                      />
                    </div>
                    <div class="form-group">
                      <label for="location">Ubicación</label>
                      <input
                        type="text"
                        id="location"
                        class="form-control"
                        [ngModel]= "itemToDelete.location"
                        name="location"
                        required              
                      />
                    </div>
                    <div class="form-group">
                      <label for="maxQtty">Máxima cantidad</label>
                      <input
                        type="number"
                        id="maxQtty"
                        class="form-control"
                        [ngModel]= "itemToDelete.maxQtty"
                        name="maxQtty"
                        required                        
                      />
                    </div>                   
                    <div>
                      <button
                        class="btn btn-primary"
                        type="submit"
                        [disabled]="!editForm.valid"
                      >
                        Editar
                      </button>     
                    </div>
                  </form>
                </div>   
                
              </div>
            </div>
          
          </ng-template>


    </div>


</div>

